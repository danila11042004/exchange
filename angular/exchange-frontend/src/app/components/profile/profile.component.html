<h2>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h2>

<div *ngIf="!(authService.currentUser$ | async)">
  <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É</p>
</div>

<div *ngIf="authService.currentUser$ | async as user" class="profile-wrapper">

  <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å–ª–µ–≤–∞ -->
  <section class="profile-main">
    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ -->
    <div *ngIf="buyer$ | async as buyer" class="buyer-info">
      <h3>–ü–æ–∫—É–ø–∞—Ç–µ–ª—å</h3>
      <p><strong>–§–ò–û:</strong> {{ buyer.fullName }}</p>
      <p><strong>Email:</strong> {{ buyer.email }}</p>
      <p><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> {{ buyer.phone }}</p>
      <p><strong>–ê–¥—Ä–µ—Å:</strong> {{ buyer.address }}</p>
    </div>

    <!-- –°–¥–µ–ª–∫–∏ -->
    <div *ngIf="deals$ | async as deals" class="deals-list">
      <h3>–í–∞—à–∏ —Å–¥–µ–ª–∫–∏</h3>

      <div *ngIf="deals.length === 0">
        <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç —Å–¥–µ–ª–æ–∫</p>
      </div>

      <table *ngIf="deals.length > 0">
        <thead>
        <tr>
          <th>–ê–∫—Ü–∏—è</th>
          <th>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</th>
          <th>–î–∞—Ç–∞</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let deal of deals">
          <td>{{ deal.shareCompanyName }}</td>
          <td>{{ deal.quantityPurchased }}</td>
          <td>{{ deal.dealDate | date:'short' }}</td>
        </tr>
        </tbody>
      </table>
    </div>
  </section>

  <!-- –£–∑–∫–∞—è –±–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å–ø—Ä–∞–≤–∞ -->
  <aside class="sidebar">
    <div class="form-container sidebar-content">
      <button (click)="logout()">üö™ –í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</button>

      <ng-container *ngIf="!isAdmin">
        <input [(ngModel)]="adminCode" placeholder="–í–≤–µ–¥–∏—Ç–µ –∞–¥–º–∏–Ω-–∫–æ–¥" />
        <button (click)="verifyAdminCode()">–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</button>
      </ng-container>

      <ng-container *ngIf="isAdmin">
        <p style="margin: 0; padding-top: 4px;">‚úÖ –£ –≤–∞—Å –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</p>
        <button (click)="revokeAdmin()">–û—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</button>
      </ng-container>
    </div>
  </aside>
</div>

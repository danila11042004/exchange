<h2 class="title">–°–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π</h2>

<div class="search-bar">
  <label>
    –ü–æ–∏—Å–∫ –ø–æ:
    <select [(ngModel)]="filterField" class="input-select">
      <option value="fullName">–§–ò–û</option>
      <option value="email">Email</option>
      <option value="phone">–¢–µ–ª–µ—Ñ–æ–Ω</option>
      <option value="address">–ê–¥—Ä–µ—Å</option>
    </select>
  </label>
  <input [(ngModel)]="filterValue" placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –ø–æ–∏—Å–∫–∞" class="input-text" />
</div>

<div class="form-container" *ngIf="isAdmin">
  <form (ngSubmit)="onSubmit()" class="form">
    <input [(ngModel)]="fullName" name="fullName" placeholder="–§–ò–û" required class="input-text" />
    <input [(ngModel)]="email" name="email" placeholder="Email" required class="input-text" />
    <input [(ngModel)]="phone" name="phone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω" required class="input-text" />
    <input [(ngModel)]="address" name="address" placeholder="–ê–¥—Ä–µ—Å" required class="input-text" />

    <button type="submit" class="btn primary-btn">
      {{ editingBuyer ? '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å' : '–î–æ–±–∞–≤–∏—Ç—å' }}
    </button>
    <button type="button" *ngIf="editingBuyer" (click)="cancelEdit()" class="btn cancel-btn">
      –û—Ç–º–µ–Ω–∞
    </button>
  </form>
</div>

<table class="data-table">
  <thead>
  <tr>
    <th>–§–ò–û</th>
    <th>Email</th>
    <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
    <th>–ê–¥—Ä–µ—Å</th>
    <th *ngIf="isAdmin">–î–µ–π—Å—Ç–≤–∏—è</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let buyer of filteredBuyers()">
    <td>{{ buyer.fullName }}</td>
    <td>{{ buyer.email }}</td>
    <td>{{ buyer.phone }}</td>
    <td>{{ buyer.address }}</td>
    <td *ngIf="isAdmin" class="actions-cell">
      <button (click)="startEdit(buyer)" class="btn action-btn edit-btn">‚úèÔ∏è</button>
      <button (click)="deleteBuyer(buyer)" class="btn action-btn delete-btn">üóëÔ∏è</button>
    </td>
  </tr>
  </tbody>
</table>

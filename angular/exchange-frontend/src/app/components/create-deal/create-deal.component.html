<h2>–°–æ–≤–µ—Ä—à–∏—Ç—å —Å–¥–µ–ª–∫—É</h2>

<div *ngIf="!isLoggedIn" class="message">
  <p>üîí –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É, —á—Ç–æ–±—ã —Å–æ–≤–µ—Ä—à–∏—Ç—å —Å–¥–µ–ª–∫—É.</p>
</div>

<form #dealForm="ngForm" (ngSubmit)="onSubmit()" *ngIf="isLoggedIn" class="form-container">

  <label for="share">–í—ã–±–µ—Ä–∏—Ç–µ –∞–∫—Ü–∏—é:</label>
  <select
    [(ngModel)]="selectedShareId"
    name="share"
    id="share"
    required
    (change)="quantity = 1"
  >
    <option [ngValue]="null" disabled>-- –í—ã–±–µ—Ä–∏—Ç–µ –∞–∫—Ü–∏—é --</option>
    <option *ngFor="let share of shares" [ngValue]="share.id">
      {{ share.companyName }} ({{ share.price | currency }}) ‚Äî –¥–æ—Å—Ç—É–ø–Ω–æ: {{ share.quantityAvailable }}
    </option>
  </select>

  <label for="quantity">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ü–∏–π:</label>
  <input
    type="number"
    [(ngModel)]="quantity"
    name="quantity"
    id="quantity"
    [min]="1"
    [max]="selectedShare?.quantityAvailable || 1"
    required
    (keydown)="blockMinus($event)"
    (input)="onQuantityChange()"
  />

  <button type="submit" [disabled]="!dealForm.form.valid || !isQuantityValid">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
</form>
